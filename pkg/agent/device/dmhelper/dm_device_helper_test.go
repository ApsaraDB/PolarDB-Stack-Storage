/* 
*Copyright (c) 2019-2021, Alibaba Group Holding Limited;
*Licensed under the Apache License, Version 2.0 (the "License");
*you may not use this file except in compliance with the License.
*You may obtain a copy of the License at

*   http://www.apache.org/licenses/LICENSE-2.0

*Unless required by applicable law or agreed to in writing, software
*distributed under the License is distributed on an "AS IS" BASIS,
*WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
*See the License for the specific language governing permissions and
*limitations under the License.
 */


package dmhelper

import (
	"polardb-sms/pkg/device"
	smslog "polardb-sms/pkg/log"
	"strings"
	"testing"
)

func TestQueryDMDevices(t *testing.T) {
	var dmParamLine = "36e00084100ee7ec969ce59cd00000c95,mpath-36e00084100ee7ec969ce59cd00000c95,79,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 129:64 1 1 71:496 1 1 ;36e00084100ee7ec97b9c9e2a00001fee,mpath-36e00084100ee7ec97b9c9e2a00001fee,72,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 128:48 1 1 71:384 1 1 ;36e00084100ee7ec96c45b0c600000d6c,mpath-36e00084100ee7ec96c45b0c600000d6c,115,rw,0 2390753280 multipath 0 0 1 1 service-time 0 2 2 69:192 1 1 69:448 1 1 ;36e00084100ee7ec9bd024ee500000153,mpath-36e00084100ee7ec9bd024ee500000153,34,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 134:224 1 1 130:496 1 1 ;36e00084100ee7ec9e14e7f29000008ee,mpath-36e00084100ee7ec9e14e7f29000008ee,96,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 131:80 1 1 129:272 1 1 ;36e00084100ee7ec97df8f0fd000021e6,mpath-36e00084100ee7ec97df8f0fd000021e6,83,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 129:176 1 1 128:304 1 1 ;36e00084100ee7ec9c0eccf3e000001b0,mpath-36e00084100ee7ec9c0eccf3e000001b0,36,rw,0 650117120 multipath 0 0 1 1 service-time 0 2 2 135:48 1 1 131:272 1 1 ;360050767088080a26800000000001b44,mpath-360050767088080a26800000000001b44,28,rw,0 2097152 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 8:320 1 66:352 1 8:64 1 68:160 1 round-robin 0 4 1 133:0 1 131:496 1 67:0 1 67:368 1 ;360050767088080a26800000000006035,mpath-360050767088080a26800000000006035,4,rw,0 6291456 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 129:192 1 65:432 1 128:0 1 66:192 1 round-robin 0 4 1 131:192 1 68:480 1 65:192 1 68:16 1 ;36e00084100ee7ec9c0de0ff600000199,mpath-36e00084100ee7ec9c0de0ff600000199,124,rw,0 41943040 multipath 0 0 1 1 service-time 0 2 2 134:208 1 1 130:480 1 1 ;36e00084100ee7ec9b7e471660000011c,mpath-36e00084100ee7ec9b7e471660000011c,114,rw,0 31457280 multipath 0 0 1 1 service-time 0 2 2 133:176 1 1 130:336 1 1 ;36e00084100ee7ec96bfd6eaf00000cea,mpath-36e00084100ee7ec96bfd6eaf00000cea,101,rw,0 734003200 multipath 0 0 1 1 service-time 0 2 2 69:160 1 1 69:416 1 1 ;36e00084100ee7ec97278986100001f3a,mpath-36e00084100ee7ec97278986100001f3a,49,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:32 1 1 70:288 1 1 ;yunjia-poc,mpath-36e00084100ee7ec944745597000002a2,63,rw,0 2147483648 multipath 0 0 1 1 service-time 0 2 2 71:32 1 1 70:496 1 1 ;360050767088080a268000000000067da,mpath-360050767088080a268000000000067da,21,rw,0 20971520 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 65:320 1 66:480 1 8:192 1 69:32 1 round-robin 0 4 1 134:0 1 132:368 1 135:32 1 67:496 1 ;360050767088080a2680000000000571e,mpath-360050767088080a2680000000000571e,9,rw,0 41943040 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 130:64 1 66:272 1 128:112 1 67:48 1 round-robin 0 4 1 132:80 1 69:288 1 66:80 1 68:80 1 ;36e00084100ee7ec9bd6a14000000016d,mpath-36e00084100ee7ec9bd6a14000000016d,123,rw,0 461373440 multipath 0 0 1 1 service-time 0 2 2 134:160 1 1 130:464 1 1 ;36e00084100ee7ec97031789000001be0,mpath-36e00084100ee7ec97031789000001be0,47,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:0 1 1 70:256 1 1 ;36e00084100ee7ec97b8f295400001fb0,mpath-36e00084100ee7ec97b8f295400001fb0,67,rw,0 461373440 multipath 0 0 1 1 service-time 0 2 2 71:112 1 1 71:288 1 1 ;360050767088080a26800000000001b43,mpath-360050767088080a26800000000001b43,26,rw,0 2097152 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 132:224 1 131:480 1 66:224 1 67:352 1 round-robin 0 4 1 8:288 1 66:336 1 8:48 1 68:144 1 ;360050767088080a26800000000006790,mpath-360050767088080a26800000000006790,7,rw,0 41943040 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 132:48 1 69:272 1 66:32 1 68:64 1 round-robin 0 4 1 130:32 1 66:256 1 128:96 1 67:16 1 ;pv-36e00084100ee7ec9c680020a000002b2,mpath-36e00084100ee7ec9c680020a000002b2,35,rw,0 692060160 multipath 0 0 1 1 service-time 0 2 2 135:0 1 1 131:256 1 1 ;360050767088080a26800000000006034,mpath-360050767088080a26800000000006034,23,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 65:352 1 66:496 1 8:208 1 69:48 1 round-robin 0 4 1 134:32 1 132:384 1 135:80 1 68:256 1 ;36e00084100ee7ec9979f227600003bcb,mpath-36e00084100ee7ec9979f227600003bcb,104,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 132:128 1 1 129:432 1 1 ;36e00084100ee7ec98c0be0200000392b,mpath-36e00084100ee7ec98c0be0200000392b,91,rw,0 1048576000 multipath 0 0 1 1 service-time 0 2 2 130:224 1 1 128:464 1 1 ;360050767088080a268000000000067e2,mpath-360050767088080a268000000000067e2,30,rw,0 20971520 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 8:352 1 66:368 1 8:80 1 68:176 1 round-robin 0 4 1 133:32 1 132:256 1 67:32 1 67:384 1 ;36e00084100ee7ec99e8899d100003eb5,mpath-36e00084100ee7ec99e8899d100003eb5,111,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 133:80 1 1 130:288 1 1 ;pv-36e00084100ee7ec9c25f90d6000001c1,mpath-36e00084100ee7ec9c25f90d6000001c1,40,rw,0 545259520 multipath 0 0 1 1 service-time 0 2 2 135:192 1 1 131:352 1 1 ;360050767088080a26800000000006823,mpath-360050767088080a26800000000006823,15,rw,0 440401920 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 135:240 1 66:304 1 8:16 1 68:112 1 round-robin 0 4 1 132:144 1 131:448 1 66:144 1 67:320 1 ;36e00084100ee7ec971684dff00001c8b,mpath-36e00084100ee7ec971684dff00001c8b,52,rw,0 209715200 multipath 0 0 1 1 service-time 0 2 2 70:80 1 1 70:336 1 1 ;360050767088080a26800000000006033,mpath-360050767088080a26800000000006033,2,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 131:128 1 68:448 1 65:144 1 67:240 1 round-robin 0 4 1 129:112 1 65:368 1 71:192 1 66:128 1 ;36e00084100ee7ec98330cb080000236a,mpath-36e00084100ee7ec98330cb080000236a,99,rw,0 545259520 multipath 0 0 1 1 service-time 0 2 2 131:208 1 1 129:336 1 1 ;36e00084100ee7ec97b9c80e100001fea,mpath-36e00084100ee7ec97b9c80e100001fea,69,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 71:176 1 1 71:320 1 1 ;360050767088080a268000000000061af,mpath-360050767088080a268000000000061af,12,rw,0 6291456 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 131:16 1 68:400 1 65:96 1 67:192 1 round-robin 0 4 1 129:16 1 65:272 1 71:96 1 66:48 1 ;360050767088080a26800000000006822,mpath-360050767088080a26800000000006822,3,rw,0 440401920 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 131:160 1 68:464 1 65:160 1 68:0 1 round-robin 0 4 1 129:144 1 65:400 1 71:224 1 66:160 1 ;pv-36e00084100ee7ec9de6e77c5000008e9,mpath-36e00084100ee7ec9de6e77c5000008e9,90,rw,0 4404019200 multipath 0 0 1 1 service-time 0 2 2 130:208 1 1 128:448 1 1 ;36e00084100ee7ec9714408b300001c39,mpath-36e00084100ee7ec9714408b300001c39,50,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:48 1 1 70:304 1 1 ;36e00084100ee7ec954e072ca000003f7,mpath-36e00084100ee7ec954e072ca000003f7,45,rw,0 419430400 multipath 0 0 1 1 service-time 0 2 2 8:368 1 1 131:432 1 1 ;360050767088080a26800000000006032,mpath-360050767088080a26800000000006032,17,rw,0 6291456 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 133:128 1 132:304 1 67:128 1 67:432 1 round-robin 0 4 1 8:448 1 66:416 1 8:128 1 68:224 1 ;360050767088080a268000000000067cf,mpath-360050767088080a268000000000067cf,19,rw,0 41943040 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 133:192 1 132:336 1 134:240 1 67:464 1 round-robin 0 4 1 65:256 1 66:448 1 8:160 1 69:0 1 ;36e00084100ee7ec9ac53b39500003f1b,mpath-36e00084100ee7ec9ac53b39500003f1b,116,rw,0 20971520 multipath 0 0 1 1 service-time 0 2 2 133:208 1 1 130:352 1 1 ;36e00084100ee7ec97bfe9c9c00002056,mpath-36e00084100ee7ec97bfe9c9c00002056,73,rw,0 209715200 multipath 0 0 1 1 service-time 0 2 2 128:80 1 1 71:400 1 1 ;36e00084100ee7ec9727c422e00001f48,mpath-36e00084100ee7ec9727c422e00001f48,55,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:112 1 1 70:368 1 1 ;360050767088080a268000000000061ae,mpath-360050767088080a268000000000061ae,25,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 134:112 1 132:416 1 135:144 1 68:288 1 round-robin 0 4 1 65:416 1 67:272 1 8:240 1 132:480 1 ;36e00084100ee7ec9ded8e2d4000008ec,mpath-36e00084100ee7ec9ded8e2d4000008ec,94,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 131:32 1 1 128:496 1 1 ;360050767088080a26800000000006031,mpath-360050767088080a26800000000006031,13,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 129:48 1 65:304 1 71:128 1 66:64 1 round-robin 0 4 1 131:48 1 68:416 1 65:112 1 67:208 1 ;36e00084100ee7ec956cce2cc0000043f,mpath-36e00084100ee7ec956cce2cc0000043f,86,rw,0 4294967296 multipath 0 0 1 1 service-time 0 2 2 130:48 1 1 128:368 1 1 ;pv-36e00084100ee7ec9cf3b0fbb000003e2,mpath-36e00084100ee7ec9cf3b0fbb000003e2,44,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 8:304 1 1 131:400 1 1 ;360050767088080a268000000000061ad,mpath-360050767088080a268000000000061ad,24,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 134:80 1 132:400 1 135:112 1 68:272 1 round-robin 0 4 1 65:384 1 67:256 1 8:224 1 132:464 1 ;36e00084100ee7ec9ac53bd8800003f1c,mpath-36e00084100ee7ec9ac53bd8800003f1c,119,rw,0 20971520 multipath 0 0 1 1 service-time 0 2 2 134:48 1 1 130:400 1 1 ;36e00084100ee7ec98354c47a0000236c,mpath-36e00084100ee7ec98354c47a0000236c,100,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 132:0 1 1 129:368 1 1 ;36e00084100ee7ec9bd581b1f0000015c,mpath-36e00084100ee7ec9bd581b1f0000015c,77,rw,0 482344960 multipath 0 0 1 1 service-time 0 2 2 129:0 1 1 71:464 1 1 ;36e00084100ee7ec9710ce93b00001c00,mpath-36e00084100ee7ec9710ce93b00001c00,46,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 69:240 1 1 69:496 1 1 ;36e00084100ee7ec9b9a7583b00000123,mpath-36e00084100ee7ec9b9a7583b00000123,118,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 134:16 1 1 130:384 1 1 ;36e00084100ee7ec9d34bbb21000008bc,mpath-36e00084100ee7ec9d34bbb21000008bc,43,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 8:272 1 1 131:384 1 1 ;360050767088080a26800000000006030,mpath-360050767088080a26800000000006030,16,rw,0 2097152 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 8:416 1 66:400 1 8:112 1 68:208 1 round-robin 0 4 1 133:96 1 132:288 1 67:96 1 67:416 1 ;36e00084100ee7ec9ac872da300003f62,mpath-36e00084100ee7ec9ac872da300003f62,107,rw,0 31457280 multipath 0 0 1 1 service-time 0 2 2 132:176 1 1 129:464 1 1 ;36e00084100ee7ec9d3437d5b000008b5,mpath-36e00084100ee7ec9d3437d5b000008b5,122,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 134:128 1 1 130:448 1 1 ;36e00084100ee7ec98c11e4ae00003946,mpath-36e00084100ee7ec98c11e4ae00003946,75,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 128:144 1 1 71:432 1 1 ;36e00084100ee7ec9727c5fa300001f54,mpath-36e00084100ee7ec9727c5fa300001f54,64,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 71:64 1 1 71:256 1 1 ;36e00084100ee7ec971659bb700001c7d,mpath-36e00084100ee7ec971659bb700001c7d,51,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:64 1 1 70:320 1 1 ;360050767088080a26800000000006817,mpath-360050767088080a26800000000006817,14,rw,0 440401920 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 131:96 1 68:432 1 65:128 1 67:224 1 round-robin 0 4 1 129:80 1 65:336 1 71:160 1 66:96 1 ;36e00084100ee7ec972773d7100001f31,mpath-36e00084100ee7ec972773d7100001f31,48,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:16 1 1 70:272 1 1 ;36e00084100ee7ec915db76b6000008f5,mpath-36e00084100ee7ec915db76b6000008f5,95,rw,0 209715200 multipath 0 0 1 1 service-time 0 2 2 131:64 1 1 129:256 1 1 ;36e00084100ee7ec9dda564ea000008e7,mpath-36e00084100ee7ec9dda564ea000008e7,82,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 129:160 1 1 128:288 1 1 ;36e00084100ee7ec954e537e3000003f9,mpath-36e00084100ee7ec954e537e3000003f9,78,rw,0 461373440 multipath 0 0 1 1 service-time 0 2 2 129:32 1 1 71:480 1 1 ;360050767088080a268000000000061b4,mpath-360050767088080a268000000000061b4,29,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 134:176 1 132:448 1 135:208 1 68:320 1 round-robin 0 4 1 65:480 1 67:304 1 65:16 1 133:256 1 ;36e00084100ee7ec97263216b00001f17,mpath-36e00084100ee7ec97263216b00001f17,57,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:144 1 1 70:400 1 1 ;36e00084100ee7ec96d5b234400001171,mpath-36e00084100ee7ec96d5b234400001171,33,rw,0 1069547520 multipath 0 0 1 1 service-time 0 2 2 69:208 1 1 69:464 1 1 ;36e00084100ee7ec9deac4b51000008ea,mpath-36e00084100ee7ec9deac4b51000008ea,92,rw,0 209715200 multipath 0 0 1 1 service-time 0 2 2 131:0 1 1 128:480 1 1 ;pv-36e00084100ee7ec97e35b56000002218,mpath-36e00084100ee7ec97e35b56000002218,89,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 130:176 1 1 128:432 1 1 ;36e00084100ee7ec96d94fbf30000123a,mpath-36e00084100ee7ec96d94fbf30000123a,42,rw,0 209715200 multipath 0 0 1 1 service-time 0 2 2 69:224 1 1 69:480 1 1 ;36e00084100ee7ec9c262cf72000001c6,mpath-36e00084100ee7ec9c262cf72000001c6,41,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 135:224 1 1 131:368 1 1 ;36e00084100ee7ec9bcfbb9c60000014e,mpath-36e00084100ee7ec9bcfbb9c60000014e,37,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 135:64 1 1 131:288 1 1 ;36e00084100ee7ec9de6e02f5000008e8,mpath-36e00084100ee7ec9de6e02f5000008e8,87,rw,0 2160066560 multipath 0 0 1 1 service-time 0 2 2 130:112 1 1 128:400 1 1 ;36e00084100ee7ec962fe035d000009a3,mpath-36e00084100ee7ec962fe035d000009a3,80,rw,0 209715200 multipath 0 0 1 1 service-time 0 2 2 129:96 1 1 128:256 1 1 ;360050767088080a2680000000000603a,mpath-360050767088080a2680000000000603a,6,rw,0 6291456 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 130:0 1 65:496 1 128:64 1 66:240 1 round-robin 0 4 1 132:16 1 69:256 1 66:0 1 68:48 1 ;36e00084100ee7ec99ea079b800003eb6,mpath-36e00084100ee7ec99ea079b800003eb6,112,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 133:112 1 1 130:304 1 1 ;36e00084100ee7ec96ad2f05d00000cb2,mpath-36e00084100ee7ec96ad2f05d00000cb2,54,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 69:80 1 1 69:336 1 1 ;36e00084100ee7ec99567405700003bc5,mpath-36e00084100ee7ec99567405700003bc5,97,rw,0 146800640 multipath 0 0 1 1 service-time 0 2 2 131:112 1 1 129:288 1 1 ;36e00084100ee7ec9bcf78c2b0000014b,mpath-36e00084100ee7ec9bcf78c2b0000014b,38,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 135:96 1 1 131:304 1 1 ;36e00084100ee7ec99058961b00003bbf,mpath-36e00084100ee7ec99058961b00003bbf,88,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 130:144 1 1 128:416 1 1 ;36e00084100ee7ec9aca9935100003f7c,mpath-36e00084100ee7ec9aca9935100003f7c,113,rw,0 52428800 multipath 0 0 1 1 service-time 0 2 2 133:144 1 1 130:320 1 1 ;36e00084100ee7ec9835da1bf0000236f,mpath-36e00084100ee7ec9835da1bf0000236f,103,rw,0 1048576000 multipath 0 0 1 1 service-time 0 2 2 132:96 1 1 129:416 1 1 ;36e00084100ee7ec96c437dee00000d53,mpath-36e00084100ee7ec96c437dee00000d53,93,rw,0 650117120 multipath 0 0 1 1 service-time 0 2 2 69:144 1 1 69:400 1 1 ;36e00084100ee7ec978c3e9a500001f78,mpath-36e00084100ee7ec978c3e9a500001f78,68,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 71:144 1 1 71:304 1 1 ;36e00084100ee7ec96c45a47800000d6b,mpath-36e00084100ee7ec96c45a47800000d6b,105,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 69:176 1 1 69:432 1 1 ;36e00084100ee7ec97bfe74f700002055,mpath-36e00084100ee7ec97bfe74f700002055,71,rw,0 629145600 multipath 0 0 1 1 service-time 0 2 2 128:16 1 1 71:368 1 1 ;pv-360050767088080a2680000000000678b,mpath-360050767088080a2680000000000678b,31,rw,0 545259520 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 133:64 1 132:272 1 67:64 1 67:400 1 round-robin 0 4 1 8:384 1 66:384 1 8:96 1 68:192 1 ;36e00084100ee7ec96ad181d100000ca9,mpath-36e00084100ee7ec96ad181d100000ca9,32,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 69:64 1 1 69:320 1 1 ;pv-36e00084100ee7ec9b05dd334000000f4,mpath-36e00084100ee7ec9b05dd334000000f4,110,rw,0 419430400 multipath 0 0 1 1 service-time 0 2 2 133:48 1 1 130:272 1 1 ;36e00084100ee7ec9bcf081fc0000013e,mpath-36e00084100ee7ec9bcf081fc0000013e,39,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 135:160 1 1 131:336 1 1 ;36e00084100ee7ec99b8e874400003d85,mpath-36e00084100ee7ec99b8e874400003d85,108,rw,0 20971520 multipath 0 0 1 1 service-time 0 2 2 132:208 1 1 129:480 1 1 ;36e00084100ee7ec956cce39500000440,mpath-36e00084100ee7ec956cce39500000440,85,rw,0 4294967296 multipath 0 0 1 1 service-time 0 2 2 130:16 1 1 128:352 1 1 ;pv-36e00084100ee7ec9727c490d00001f49,mpath-36e00084100ee7ec9727c490d00001f49,59,rw,0 566231040 multipath 0 0 1 1 service-time 0 2 2 70:176 1 1 70:432 1 1 ;360050767088080a26800000000006829,mpath-360050767088080a26800000000006829,1,rw,0 104857600 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 128:208 1 8:432 1 70:240 1 65:208 1 round-robin 0 4 1 130:160 1 68:352 1 65:48 1 67:144 1 ;36e00084100ee7ec98328db7600002369,mpath-36e00084100ee7ec98328db7600002369,98,rw,0 1258291200 multipath 0 0 1 1 service-time 0 2 2 131:176 1 1 129:320 1 1 ;36e00084100ee7ec97e9547a30000227f,mpath-36e00084100ee7ec97e9547a30000227f,61,rw,0 2147483648 multipath 0 0 1 1 service-time 0 2 2 70:208 1 1 70:464 1 1 ;360050767088080a268000000000061a9,mpath-360050767088080a268000000000061a9,22,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 132:192 1 131:464 1 66:176 1 67:336 1 round-robin 0 4 1 8:256 1 66:320 1 8:32 1 68:128 1 ;pv-360050767088080a2680000000000678a,mpath-360050767088080a2680000000000678a,8,rw,0 1069547520 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 128:224 1 8:464 1 71:16 1 65:240 1 round-robin 0 4 1 130:192 1 68:368 1 65:64 1 67:160 1 ;36e00084100ee7ec9ac53c82700003f1d,mpath-36e00084100ee7ec9ac53c82700003f1d,120,rw,0 20971520 multipath 0 0 1 1 service-time 0 2 2 134:64 1 1 130:416 1 1 ;360050767088080a268000000000061b1,mpath-360050767088080a268000000000061b1,10,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 132:112 1 69:304 1 66:112 1 68:96 1 round-robin 0 4 1 130:96 1 66:288 1 128:160 1 67:80 1 ;36e00084100ee7ec9bbc96b570000012d,mpath-36e00084100ee7ec9bbc96b570000012d,117,rw,0 482344960 multipath 0 0 1 1 service-time 0 2 2 133:240 1 1 130:368 1 1 ;pv-36e00084100ee7ec996acb38700003bc7,mpath-36e00084100ee7ec996acb38700003bc7,106,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 132:160 1 1 129:448 1 1 ;360050767088080a26800000000006828,mpath-360050767088080a26800000000006828,0,rw,0 104857600 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 128:176 1 8:400 1 70:224 1 65:176 1 round-robin 0 4 1 130:128 1 68:336 1 65:32 1 67:112 1 ;36e00084100ee7ec969b39a6c00000c85,mpath-36e00084100ee7ec969b39a6c00000c85,74,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 128:128 1 1 71:416 1 1 ;360050767088080a26800000000006038,mpath-360050767088080a26800000000006038,5,rw,0 4194304 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 131:240 1 68:496 1 65:224 1 68:32 1 round-robin 0 4 1 129:224 1 65:464 1 128:32 1 66:208 1 ;36e00084100ee7ec983597a8b0000236e,mpath-36e00084100ee7ec983597a8b0000236e,102,rw,0 524288000 multipath 0 0 1 1 service-time 0 2 2 132:64 1 1 129:400 1 1 ;36e00084100ee7ec9dda1a70a000008e5,mpath-36e00084100ee7ec9dda1a70a000008e5,76,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 128:192 1 1 71:448 1 1 ;36e00084100ee7ec9725a6e2900001f12,mpath-36e00084100ee7ec9725a6e2900001f12,56,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:128 1 1 70:384 1 1 ;360050767088080a268000000000061b0,mpath-360050767088080a268000000000061b0,27,rw,0 2097152 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 134:144 1 132:432 1 135:176 1 68:304 1 round-robin 0 4 1 65:448 1 67:288 1 65:0 1 132:496 1 ;36e00084100ee7ec9716910c000001c8f,mpath-36e00084100ee7ec9716910c000001c8f,53,rw,0 209715200 multipath 0 0 1 1 service-time 0 2 2 70:96 1 1 70:352 1 1 ;backup-ftp-pvc-2,mpath-360050767088080a268000000000067e9,20,rw,0 838860800 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 65:288 1 66:464 1 8:176 1 69:16 1 round-robin 0 4 1 133:224 1 132:352 1 135:16 1 67:480 1 ;36e00084100ee7ec99f84893b00003eb7,mpath-36e00084100ee7ec99f84893b00003eb7,109,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 132:240 1 1 129:496 1 1 ;36e00084100ee7ec96bdb1cca00000ce8,mpath-36e00084100ee7ec96bdb1cca00000ce8,65,rw,0 419430400 multipath 0 0 1 1 service-time 0 2 2 69:96 1 1 69:352 1 1 ;36e00084100ee7ec9bac3ea7600000125,mpath-36e00084100ee7ec9bac3ea7600000125,121,rw,0 629145600 multipath 0 0 1 1 service-time 0 2 2 134:96 1 1 130:432 1 1 ;36e00084100ee7ec9d83b384b000008d8,mpath-36e00084100ee7ec9d83b384b000008d8,70,rw,0 482344960 multipath 0 0 1 1 service-time 0 2 2 71:240 1 1 71:352 1 1 ;36e00084100ee7ec94881f2d2000003bb,mpath-36e00084100ee7ec94881f2d2000003bb,60,rw,0 20971520 multipath 0 0 1 1 service-time 0 2 2 70:192 1 1 70:448 1 1 ;36e00084100ee7ec97263501500001f1c,mpath-36e00084100ee7ec97263501500001f1c,58,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 70:160 1 1 70:416 1 1 ;pv-36e00084100ee7ec9dda4876c000008e6,mpath-36e00084100ee7ec9dda4876c000008e6,81,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 129:128 1 1 128:272 1 1 ;backup-ftp-pvc-1,mpath-360050767088080a268000000000066c9,18,rw,0 838860800 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 133:160 1 132:320 1 134:192 1 67:448 1 round-robin 0 4 1 8:480 1 66:432 1 8:144 1 68:240 1 ;360050767088080a26800000000006811,mpath-360050767088080a26800000000006811,11,rw,0 440401920 multipath 1 queue_if_no_path 0 2 1 round-robin 0 4 1 128:240 1 8:496 1 71:48 1 66:16 1 round-robin 0 4 1 130:240 1 68:384 1 65:80 1 67:176 1 ;36e00084100ee7ec97b5f8bfe00001f8e,mpath-36e00084100ee7ec97b5f8bfe00001f8e,84,rw,0 440401920 multipath 0 0 1 1 service-time 0 2 2 69:128 1 1 69:384 1 1 ;36e00084100ee7ec972e7047800001f6e,mpath-36e00084100ee7ec972e7047800001f6e,66,rw,0 209715200 multipath 0 0 1 1 service-time 0 2 2 71:80 1 1 71:272 1 1"
	lines := strings.Split(dmParamLine, device.SemicolonSign)
	for _, line := range lines {
		smslog.Infof("line: %s", line)
		dmParam, err := parseDmParamByConciseLine(line)
		if err != nil {
			smslog.Warnf("failed to parse line [%s]: %v", line, err)
			continue
		}
		_, err = constructDevice(dmParam)
		if err != nil {
			smslog.Infof("construct err %s for param %v", err.Error(), dmParam)
			continue
		}
	}
}
